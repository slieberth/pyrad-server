# ------------------------------------------------------------
# Address pools
# ------------------------------------------------------------
address_pools:
  pool1:
    shuffle: false
    ipv4:
      - 10.0.0.0/24
  pool2:
    shuffle: false
    ipv4:
      - 10.0.1.0/24

# ------------------------------------------------------------
# Reply definitions
# ------------------------------------------------------------
reply_definitions:
  auth:
    ok1:
      code: 2   # Access-Accept
      attributes:
        Reply-Message: "OK for alice"
        Framed-IP-Address: "-> fromPool"
    ok2:
      code: 2   # Access-Accept
      attributes:
        Reply-Message: "OK for bob"
        Framed-IP-Address: "-> fromPool"

  acct:
    acct_ok:
      code: 5   # Accounting-Response
      attributes: {}

# ------------------------------------------------------------
# Pool match rules (first match wins)
# ------------------------------------------------------------
pool_match_rules:
  - pool1:
      - User-Name: "alice"
  - pool2:
      - User-Name: "bob"

# ------------------------------------------------------------
# Reply match rules
# ------------------------------------------------------------
reply_match_rules:
  auth:
    - ok1:
        - User-Name: "alice"
    - ok2:
        - User-Name: "bob"

  acct:
    - acct_ok: []  # send always, regardless of attributes

# ------------------------------------------------------------
# Redis dialog storage
# ------------------------------------------------------------
redis_storage:
  prefix: "pyrad-server::"
  auth:
    - Acct-Session-Id
  acct:
    - Acct-Session-Id
  coa:
    - Acct-Session-Id
  disc:
    - Acct-Session-Id
